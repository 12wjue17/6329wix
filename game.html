<div class="game-container">
  <!-- çŸ¥è¯†æµ‹è¯• -->
  <div class="quiz-section">
    <h3>ç›²é“çŸ¥è¯†æµ‹è¯•</h3>
    <div class="question">
      <p>1. è¡Œè¿›ç›²é“ç –çš„å‡¸èµ·ç±»å‹æ˜¯ï¼Ÿ</p>
      <div class="options">
        <button class="option" data-correct="true">æ¡çŠ¶å‡¸èµ·</button>
        <button class="option">åœ†ç‚¹å‡¸èµ·</button>
      </div>
    </div>
    <div class="question">
      <p>2. æ–‘é©¬çº¿å‰åº”é“ºè®¾ä»€ä¹ˆç –ï¼Ÿ</p>
      <div class="options">
        <button class="option">è¡Œè¿›ç›²é“ç –</button>
        <button class="option" data-correct="true">æç¤ºç›²é“ç –</button>
      </div>
    </div>
  </div>

  <!-- æ¸¸æˆä¸»ä½“ -->
  <div class="road-container">
    <div class="sidewalk">
      <div class="tactile-tile start-tile">ğŸš¶</div>
      <div class="tactile-tile" data-type="directional"></div>
      <div class="tactile-tile" data-type="directional"></div>
      <div class="tactile-tile warning-tile"></div>
    </div>
    
    <div class="crosswalk">
      <div class="tactile-row">
        <div class="tactile-tile prompt-tile"></div>
        <div class="tactile-tile prompt-tile"></div>
        <div class="tactile-tile prompt-tile"></div>
      </div>
      <div class="zebra-line"></div>
    </div>
  </div>

  <!-- æ“ä½œåŒº -->
  <div class="controls">
    <div class="attempts">å‰©ä½™æœºä¼š: <span class="count">3</span></div>
    <div class="tile-selector">
      <button class="tile-option active" data-type="directional">
        <div class="tile-preview directional"></div>
        <span>è¡Œè¿›ç –</span>
      </button>
      <button class="tile-option" data-type="prompt">
        <div class="tile-preview prompt"></div>
        <span>æç¤ºç –</span>
      </button>
    </div>
    <button class="check-btn">éªŒè¯æ–¹æ¡ˆ</button>
  </div>
</div>

<style>
/* ä¸“ä¸šé…è‰²æ–¹æ¡ˆ */
:root {
  --directional-color: #FFD700;  /* è¡Œè¿›ç –é‡‘è‰² */
  --prompt-color: #4169E1;       /* æç¤ºç –çš‡å®¤è“ */
  --warning-color: #FF4500;      /* è­¦å‘Šç –æ©™çº¢è‰² */
}

.tactile-tile {
  /* è§¦æ„Ÿçº¹ç†å®ç° */
  background: repeating-linear-gradient(
    45deg,
    #ffffff55,
    #ffffff55 2px,
    transparent 2px,
    transparent 4px
  );
}

.directional-tile {
  background: var(--directional-color);
  /* æ¡çŠ¶å‡¸èµ·æ•ˆæœ */
  box-shadow: inset 0 -3px 0 rgba(0,0,0,0.2);
}

.prompt-tile {
  background: var(--prompt-color);
  /* åœ†ç‚¹å‡¸èµ·æ•ˆæœ */
  background-image: radial-gradient(
    circle at 50% 30%,
    #fff 15%,
    transparent 15%
  );
}

.warning-tile {
  background: var(--warning-color);
  /* å¤§åœ†ç‚¹è­¦ç¤ºæ•ˆæœ */
  background-image: radial-gradient(
    circle at 50% 50%,
    #fff 25%,
    transparent 25%
  );
}

/* Tå‹å¸ƒå±€å¯è§†åŒ– */
.road-container {
  display: grid;
  grid-template-areas:
    "sidewalk crosswalk"
    "warning  crosswalk";
  gap: 10px;
}

.sidewalk {
  grid-area: sidewalk;
  display: flex;
  flex-direction: column;
}

.crosswalk {
  grid-area: crosswalk;
  display: flex;
  flex-direction: column;
}

/* æ–‘é©¬çº¿ç»†èŠ‚ */
.zebra-line {
  background: repeating-linear-gradient(
    to right,
    #fff 0 30px,
    #666 30px 60px
  );
  height: 8px;
  margin: 2px 0;
}
</style>

<script>
// ä¸“ä¸šéªŒè¯é€»è¾‘
function validateSolution() {
  const requiredPattern = {
    directional: [1, 2],    // ç¬¬2ã€3å—ä¸ºè¡Œè¿›ç –
    warning: [3],           // ç¬¬4å—ä¸ºè­¦å‘Šç –
    prompt: [4,5,6]         // æ–‘é©¬çº¿å‰3å—æç¤ºç –
  };

  // æ£€æŸ¥å‚ç›´ç›¸äº¤å…³ç³»
  const isVertical = document.querySelector('.sidewalk').style.flexDirection === 'column';
  
  // æœºä¼šç”¨å°½æ—¶æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
  if(attempts <= 0) {
    showCorrectPattern(requiredPattern);
    return;
  }
}

function showCorrectPattern(pattern) {
  // é«˜äº®æ˜¾ç¤ºæ ‡å‡†é“ºè®¾æ–¹æ¡ˆ
  pattern.directional.forEach(index => {
    document.querySelectorAll('.tactile-tile')[index]
      .classList.add('correct-directional');
  });
  
  // æ˜¾ç¤ºå±é™©è­¦å‘Šç –
  document.querySelector('.warning-tile')
    .classList.add('correct-warning');
}
</script>
