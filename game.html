<div class="game-container">
  <!-- 知识测试 -->
  <div class="quiz-section">
    <h3>盲道知识测试</h3>
    <div class="question">
      <p>1. 行进盲道砖的凸起类型是？</p>
      <div class="options">
        <button class="option" data-correct="true">条状凸起</button>
        <button class="option">圆点凸起</button>
      </div>
    </div>
    <div class="question">
      <p>2. 斑马线前应铺设什么砖？</p>
      <div class="options">
        <button class="option">行进盲道砖</button>
        <button class="option" data-correct="true">提示盲道砖</button>
      </div>
    </div>
  </div>

  <!-- 游戏主体 -->
  <div class="road-container">
    <div class="sidewalk">
      <div class="tactile-tile start-tile">🚶</div>
      <div class="tactile-tile" data-type="directional"></div>
      <div class="tactile-tile" data-type="directional"></div>
      <div class="tactile-tile warning-tile"></div>
    </div>
    
    <div class="crosswalk">
      <div class="tactile-row">
        <div class="tactile-tile prompt-tile"></div>
        <div class="tactile-tile prompt-tile"></div>
        <div class="tactile-tile prompt-tile"></div>
      </div>
      <div class="zebra-line"></div>
    </div>
  </div>

  <!-- 操作区 -->
  <div class="controls">
    <div class="attempts">剩余机会: <span class="count">3</span></div>
    <div class="tile-selector">
      <button class="tile-option active" data-type="directional">
        <div class="tile-preview directional"></div>
        <span>行进砖</span>
      </button>
      <button class="tile-option" data-type="prompt">
        <div class="tile-preview prompt"></div>
        <span>提示砖</span>
      </button>
    </div>
    <button class="check-btn">验证方案</button>
  </div>
</div>

<style>
/* 专业配色方案 */
:root {
  --directional-color: #FFD700;  /* 行进砖金色 */
  --prompt-color: #4169E1;       /* 提示砖皇室蓝 */
  --warning-color: #FF4500;      /* 警告砖橙红色 */
}

.tactile-tile {
  /* 触感纹理实现 */
  background: repeating-linear-gradient(
    45deg,
    #ffffff55,
    #ffffff55 2px,
    transparent 2px,
    transparent 4px
  );
}

.directional-tile {
  background: var(--directional-color);
  /* 条状凸起效果 */
  box-shadow: inset 0 -3px 0 rgba(0,0,0,0.2);
}

.prompt-tile {
  background: var(--prompt-color);
  /* 圆点凸起效果 */
  background-image: radial-gradient(
    circle at 50% 30%,
    #fff 15%,
    transparent 15%
  );
}

.warning-tile {
  background: var(--warning-color);
  /* 大圆点警示效果 */
  background-image: radial-gradient(
    circle at 50% 50%,
    #fff 25%,
    transparent 25%
  );
}

/* T型布局可视化 */
.road-container {
  display: grid;
  grid-template-areas:
    "sidewalk crosswalk"
    "warning  crosswalk";
  gap: 10px;
}

.sidewalk {
  grid-area: sidewalk;
  display: flex;
  flex-direction: column;
}

.crosswalk {
  grid-area: crosswalk;
  display: flex;
  flex-direction: column;
}

/* 斑马线细节 */
.zebra-line {
  background: repeating-linear-gradient(
    to right,
    #fff 0 30px,
    #666 30px 60px
  );
  height: 8px;
  margin: 2px 0;
}
</style>

<script>
// 专业验证逻辑
function validateSolution() {
  const requiredPattern = {
    directional: [1, 2],    // 第2、3块为行进砖
    warning: [3],           // 第4块为警告砖
    prompt: [4,5,6]         // 斑马线前3块提示砖
  };

  // 检查垂直相交关系
  const isVertical = document.querySelector('.sidewalk').style.flexDirection === 'column';
  
  // 机会用尽时显示正确答案
  if(attempts <= 0) {
    showCorrectPattern(requiredPattern);
    return;
  }
}

function showCorrectPattern(pattern) {
  // 高亮显示标准铺设方案
  pattern.directional.forEach(index => {
    document.querySelectorAll('.tactile-tile')[index]
      .classList.add('correct-directional');
  });
  
  // 显示危险警告砖
  document.querySelector('.warning-tile')
    .classList.add('correct-warning');
}
</script>
