<!DOCTYPE html>
<html>
<head>
    <title>ç›²é“å¯¼èˆªæŒ‘æˆ˜ - è¿‡é©¬è·¯</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        .quiz-section {
            border: 2px solid #333;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 10px;
        }
        .game-container {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            gap: 5px;
            margin: 20px 0;
        }
        .cell {
            width: 60px;
            height: 60px;
            border: 2px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background-size: cover;
        }
        .circular {
            background: #FFD700 radial-gradient(circle at 50% 50%, #666 15%, transparent 20%);
        }
        .striped {
            background: #4682B4 repeating-linear-gradient(-45deg, 
                transparent, 
                transparent 10px, 
                #fff 10px, 
                #fff 20px);
        }
        .start { background-color: #90EE90; }
        .end { background-color: #FF6347; }
        .correct { border: 3px solid #32CD32 !important; }
        .selected-tile { transform: scale(1.1); }
        button { margin: 10px; padding: 10px 20px; }
    </style>
</head>
<body>
    <h1>ç›²é“å¯¼èˆªçŸ¥è¯†æµ‹è¯•</h1>
    
    <div class="quiz-section">
        <h3>é—®é¢˜1ï¼šå“ªç§ç›²é“ç –ç”¨äºæŒ‡ç¤ºç›´è¡Œï¼Ÿ</h3>
        <button onclick="checkQuiz(1, this)">A) æ¡çº¹ç –</button>
        <button onclick="checkQuiz(1, this)">B) åœ†å½¢å‡¸èµ·ç –</button>
        <p id="quiz1"></p>

        <h3>é—®é¢˜2ï¼šå“ªç§ç›²é“ç –ç”¨äºæç¤ºæ–¹å‘å˜åŒ–ï¼Ÿ</h3>
        <button onclick="checkQuiz(2, this)">A) æ¡çº¹ç –</button>
        <button onclick="checkQuiz(2, this)">B) åœ†å½¢å‡¸èµ·ç –</button>
        <p id="quiz2"></p>
    </div>

    <h1>è¿‡é©¬è·¯ç›²é“é“ºè®¾æŒ‘æˆ˜</h1>
    <p>å‰©ä½™å°è¯•æ¬¡æ•°ï¼š<span id="attempts">3</span></p>
    
    <div class="game-container" id="gameGrid"></div>
    
    <div>
        <button onclick="selectTile('circular')">åœ†å½¢ç –ï¼ˆç›´è¡Œï¼‰</button>
        <button onclick="selectTile('striped')">æ¡çº¹ç –ï¼ˆè½¬å‘ï¼‰</button>
        <button onclick="validatePath()">éªŒè¯æ–¹æ¡ˆ</button>
    </div>

    <script>
        let selectedTile = null;
        let attempts = 3;
        const solution = ['start', 'circular', 'circular', 'circular', 'circular', 'circular', 'circular', 'end'];
        
        // åˆå§‹åŒ–æ¸¸æˆç½‘æ ¼
        function initGame() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = '';
            
            for(let i=0; i<8; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.dataset.index = i;
                
                if(i === 0) {
                    cell.className += ' start';
                    cell.textContent = 'ğŸš¶';
                } 
                else if(i === 7) {
                    cell.className += ' end';
                    cell.textContent = 'ğŸš©';
                }
                
                cell.onclick = () => placeTile(i);
                grid.appendChild(cell);
            }
        }

        // é€‰æ‹©é¢˜éªŒè¯
        function checkQuiz(quizNum, btn) {
            const correct = (quizNum === 1 && btn.innerText.includes("B")) || 
(quizNum === 2 && btn.innerText.includes("A"));
            const resultEl = document.getElementById(`quiz${quizNum}`);
            resultEl.textContent = correct ? "âœ“ æ­£ç¡®ï¼" : "âœ— è¯·é‡æ–°é€‰æ‹©";
            resultEl.style.color = correct ? "green" : "red";
        }

        function selectTile(index) {
            selectedTile = index;
            document.querySelectorAll('button').forEach(btn => 
                btn.classList.remove('selected-tile'));
            event.target.classList.add('selected-tile');
        }

        function placeTile(index) {
            if(!selectedTile || index === 0 || index === 7) return;
            
            const cell = document.querySelector(`[data-index="${index}"]`);
            cell.className = `cell ${selectedTile}`;
        }

        function validatePath() {
            if(attempts <= 0) return;
            
            const cells = document.querySelectorAll('.cell');
            let correct = true;
            
            cells.forEach((cell, i) => {
                const expected = solution[i];
                const actual = cell.className.includes(expected);
                
                if(!actual && i>0 && i<7) {
                    correct = false;
                    cell.style.border = "2px solid red";
                }
            });

            if(correct) {
                alert("æ­å–œï¼æ­£ç¡®é“ºè®¾ç›²é“ï¼");
            } else {
                attempts--;
                document.getElementById('attempts').textContent = attempts;
                
                if(attempts === 0) {
                    showSolution();
                    alert("æœºä¼šç”¨å°½ï¼Œå·²æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ");
                }
            }
        }

        function showSolution() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach((cell, i) => {
                if(i !== 0 && i !== 7) {
                    cell.className = `cell ${solution[i]}`;
                    cell.classList.add('correct');
                }
            });
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        initGame();
    </script>
</body>
</html>
